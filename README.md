# Distributed University Management System

A simplified yet comprehensive distributed system demonstrating REST API principles across multiple computers using FastAPI and Python.

## 🎯 Project Overview

This project implements a **distributed university management system** that showcases core distributed systems concepts:

- **Service Distribution**: Coordinator (Computer 1) and Worker (Computer 2)
- **REST API**: All HTTP methods (GET, POST, PUT, DELETE)
- **Load Balancing**: Task delegation between coordinator and worker
- **Service Discovery**: Automatic worker registration
- **Fault Tolerance**: Graceful degradation when workers are unavailable

## 🏗️ Architecture

```
Computer 1 (Coordinator - Port 8000)
├── University Management
├── Course Management  
├── Student Coordination
└── Worker Management

Computer 2 (Worker - Port 8001)
├── Student Processing
├── Data Validation
├── Analytics Generation
└── Health Monitoring
```

## 📁 Repository Structure

```
distributed-task-manager/
├── 📁 coordinator/           # Main server (Computer 1)
│   ├── database.py          # SQLAlchemy database setup
│   └── main.py              # FastAPI coordinator service
├── 📁 worker/               # Worker node (Computer 2)
│   └── main.py              # FastAPI worker service
├── 📁 scripts/              # Automation scripts
│   ├── setup.sh             # Initial setup
│   ├── start_coordinator.sh # Start coordinator
│   ├── start_worker.sh      # Start worker
│   └── demo.sh              # Demo scenarios
├── 📁 docs/                 # Documentation
│   ├── architecture.md      # System architecture
│   ├── api_documentation.md # API reference
│   └── theory.md            # Distributed systems theory
├── requirements.txt         # Python dependencies
├── .gitignore              # Git ignore rules
└── README.md               # This file
```

## 🚀 Quick Start

### Prerequisites
- Python 3.8+
- Two computers on the same network
- Basic networking knowledge

### Setup (Both Computers)

1. **Clone the repository:**
```bash
git clone <repository-url>
cd distributed-task-manager
```

2. **Run setup script:**
```bash
./scripts/setup.sh
```

### Running the System

#### Computer 1 (Coordinator)
```bash
./scripts/start_coordinator.sh
```
- Service runs on port 8000
- API docs: http://localhost:8000/docs

#### Computer 2 (Worker)

1. **Update coordinator IP** in `worker/main.py`:
```python
COORDINATOR_URL = "http://[COMPUTER_1_IP]:8000"
```

2. **Start worker:**
```bash
./scripts/start_worker.sh
```
- Service runs on port 8001  
- API docs: http://localhost:8001/docs

### Testing the System
```bash
./scripts/demo.sh
```

## 🎓 University Project Features

### Core Entities
- **Universities**: Public/private institutions with enrollment data
- **Courses**: Academic programs with duration and area classification
- **Students**: Enrolled students with university/course assignments

### Distributed Operations

1. **Universities & Courses**: Managed by coordinator
2. **Student Processing**: Delegated to worker nodes
3. **Analytics**: Generated by worker with enhanced data
4. **Load Balancing**: Automatic task distribution

## 🔧 REST API Endpoints

### Coordinator (Computer 1)

#### Universities
- `GET /universities` - List all universities
- `POST /universities` - Create new university
- `GET /universities/{id}` - Get university details

#### Courses  
- `GET /courses` - List all courses
- `POST /courses` - Create new course

#### Students (Distributed)
- `GET /students` - List all students
- `POST /students` - Create student (delegated to worker)

#### System Management
- `GET /` - System overview
- `GET /stats` - Detailed statistics
- `GET /workers` - List registered workers
- `POST /workers/register` - Register worker

### Worker (Computer 2)

#### Processing
- `POST /process_student` - Process student creation
- `POST /analytics/students` - Generate analytics

#### Monitoring
- `GET /health` - Health check
- `GET /stats` - Worker statistics
- `GET /processed_requests` - Processing history

#### Testing
- `POST /test/student` - Test student processing
- `POST /test/analytics` - Test analytics generation

## 🌐 Distributed Systems Concepts Demonstrated

### 1. **REST Principles**
- ✅ **Stateless**: Each request is independent
- ✅ **Client-Server**: Clear separation of concerns
- ✅ **Cacheable**: Responses include caching information
- ✅ **Uniform Interface**: Standard HTTP methods
- ✅ **Layered System**: Coordinator can manage multiple workers

### 2. **Distribution Features**
- ✅ **Service Discovery**: Automatic worker registration
- ✅ **Load Balancing**: Task delegation strategies
- ✅ **Fault Tolerance**: Graceful degradation
- ✅ **Scalability**: Easy addition of new workers
- ✅ **Monitoring**: Health checks and statistics

### 3. **Network Communication**
- ✅ **HTTP/JSON**: Standard web protocols
- ✅ **Async Processing**: Non-blocking operations
- ✅ **Error Handling**: Comprehensive error responses
- ✅ **Timeout Management**: Network failure handling

## 📊 Sample API Calls

### Create a University
```bash
curl -X POST "http://localhost:8000/universities" \
     -H "Content-Type: application/json" \
     -d '{
       "name": "MIT",
       "state": "MA", 
       "type": "private",
       "founded_year": 1861,
       "student_count": 11000
     }'
```

### Create a Student (Distributed)
```bash
curl -X POST "http://localhost:8000/students" \
     -H "Content-Type: application/json" \
     -d '{
       "name": "João Silva",
       "email": "joao@example.com",
       "university_id": 1,
       "course_id": 1, 
       "enrollment_year": 2024
     }'
```

### Check Worker Status
```bash
curl http://localhost:8001/health
```

## 🎬 Demo Script Features

The included demo script (`scripts/demo.sh`) demonstrates:

1. **Service Health Checks**: Verify both services are running
2. **Worker Registration**: Show automatic service discovery
3. **CRUD Operations**: Create/read universities, courses, students
4. **Distributed Processing**: Student creation delegated to worker
5. **Analytics**: Worker-generated data insights
6. **Monitoring**: Real-time statistics from both services

## 🧪 For University Presentation

### Theory Explanation (25% Grade)
- **REST Architecture**: Stateless, client-server, uniform interface
- **Distributed Computing**: Service discovery, load balancing, fault tolerance
- **Network Protocols**: HTTP, JSON, asynchronous communication

### Implementation (75% Grade)
- **Multi-Computer Setup**: Clear separation between coordinator and worker
- **All HTTP Methods**: GET, POST, PUT, DELETE with proper semantics
- **Error Handling**: Comprehensive error responses and logging
- **Monitoring**: Health checks, statistics, and operational insights

### Live Demo Points
1. Show both services starting independently
2. Demonstrate automatic worker registration
3. Create data through REST API calls
4. Show distributed processing in action
5. Monitor system statistics and health
6. Test fault tolerance (disconnect worker)

## 🔗 Additional Resources

- **FastAPI Documentation**: https://fastapi.tiangolo.com/
- **SQLAlchemy Guide**: https://docs.sqlalchemy.org/
- **REST API Best Practices**: https://restfulapi.net/
- **Distributed Systems Concepts**: Tanenbaum & Van Steen

## 🤝 Contributing

This is an educational project demonstrating distributed systems concepts. Feel free to:
- Add new worker capabilities
- Implement additional REST endpoints  
- Enhance error handling
- Add more sophisticated load balancing
- Implement data persistence improvements

## 📄 License

Educational use - perfect for university distributed systems projects!